{"version":3,"sources":["web3.js","components/Navbar/Navbar.jsx","factory.js","components/newCampaign/NewCampaign.jsx","components/home/Home.jsx","campaign.js","components/viewDetails/ViewDetails.jsx","components/viewRequests/ViewRequests.jsx","components/addrequest/Addrequest.jsx","Routing.jsx","App.js","index.js"],"names":["web3","Navbar","className","to","style","textDecoration","href","src","backgroundColor","alt","Web3","require","window","currentProvider","provider","providers","HttpProvider","eth","Contract","JSON","parse","factory","interface","NewCampaign","useState","minimumamount","setMinimumAmount","loading","setloading","onSubmit","e","a","preventDefault","getAccounts","accounts","methods","addCampaign","send","from","gas","message","alert","type","placeholder","value","onChange","target","Home","addresses","setAddresses","useEffect","getCampaigns","call","t","then","data","catch","err","console","log","map","address","Campaign","ViewDetails","useParams","balance","minimumContribution","totalRequests","contributersCount","manager","campaignSummary","setcampaignSummary","setvalue","setLoading","isContributor","setIsContributor","account","setAccount","currAccount","campaign","contributorOrNot","getSummary","parseInt","contribute","pathname","state","onClick","ViewRequests","props","setData","totalApprovers","settotalApprovers","currentUser","setCurrentUser","newData","i","location","requests","request","push","getRequests","contributorsCount","count","total","approve","index","approveRequest","finalize","finalizeRequest","scope","compleate","approvalsCount","Addrequest","history","useHistory","description","recepient","formInfo","setFormInfo","createRequest","Routing","userAddress","localeCompare","startsWith","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f5eddf1a.chunk.js","sourcesContent":["const Web3 = require(\"web3\");\r\n\r\nlet web3;\r\nif (typeof window !== \"undefined\" && typeof window.web3 !== \"undefined\") {\r\n  web3 = new Web3(window.web3.currentProvider);\r\n} else {\r\n  const provider = new Web3.providers.HttpProvider(\r\n    \"https://rinkeby.infura.io/v3/18da8c6c0290455f8ad62a79264b6569\"\r\n  );\r\n  web3 = new Web3(provider);\r\n}\r\n\r\nexport default web3;\r\n","import { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\nconst Navbar = () => {\r\n  return (\r\n    <div className=\"navbar\">\r\n      <Link className=\"link\" to=\"/\" style={{ textDecoration: \"none\" }}>\r\n        <h1>WeCare</h1>\r\n      </Link>\r\n      <div className=\"navbar__right\">\r\n        <a href=\"https://github.com/PratapTyagi\">\r\n          <img src=\"https://cdn.afterdawn.fi/v3/news/original/github-logo.png\" />{\" \"}\r\n          Github\r\n        </a>\r\n        <Link\r\n          className=\"link\"\r\n          to=\"/campaigns/new\"\r\n          style={{ textDecoration: \"none\", backgroundColor: \"white\" }}\r\n        >\r\n          <p className=\"navbar__right__add\" alt=\"Create Campaign\">\r\n            +\r\n          </p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import factory from \"./build/Factory.json\";\r\nimport web3 from \"./web3.js\";\r\n\r\nexport default new web3.eth.Contract(\r\n  JSON.parse(factory.interface),\r\n  \"0xc696b457C870Bc6d374faF911896BAFC9D03A013\"\r\n);\r\n","import React, { useState } from \"react\";\r\nimport \"./NewCampaign.css\";\r\nimport factory from \"../../factory\";\r\nimport web3 from \"../../web3\";\r\n\r\nconst NewCampaign = () => {\r\n  const [minimumamount, setMinimumAmount] = useState(\"\");\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setloading(true);\r\n    try {\r\n      const accounts = await web3.eth.getAccounts();\r\n      await factory.methods.addCampaign(minimumamount).send({\r\n        from: accounts[0],\r\n        gas: \"1000000\",\r\n      });\r\n    } catch ({ message }) {\r\n      alert(message);\r\n    }\r\n    setloading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"newCampaign\">\r\n      <h2>Add campaign</h2>\r\n      <div className=\"newCampaign__container\">\r\n        <form onSubmit={onSubmit}>\r\n          <p>*in wei</p>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter minimum amount of wei\"\r\n            value={minimumamount}\r\n            onChange={(e) => setMinimumAmount(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Create</button>\r\n          {loading && <p className=\"loading\"></p>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewCampaign;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport factory from \"../../factory.js\";\r\n\r\nimport \"./Home.css\";\r\nconst Home = () => {\r\n  const [addresses, setAddresses] = useState([]);\r\n  useEffect(() => {\r\n    const t = async () => await factory.methods.getCampaigns().call();\r\n    t()\r\n      .then((data) => setAddresses(data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"left\">\r\n        <h2>Start Ups</h2>\r\n        {addresses.map((address) => (\r\n          <>\r\n            <div className=\"home__card\" key={address}>\r\n              <p>{address}</p>\r\n              <Link to={`/campaign/${address}`}>\r\n                <button>View Details</button>\r\n              </Link>\r\n            </div>\r\n          </>\r\n        ))}\r\n      </div>\r\n      <div className=\"right\">\r\n        <Link to=\"/campaigns/new\" style={{ textDecoration: \"none\" }}>\r\n          <button>Create Campaign</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import web3 from \"./web3\";\r\nimport Campaign from \"./build/Campaign.json\";\r\n\r\nexport default (address) => {\r\n  return new web3.eth.Contract(JSON.parse(Campaign.interface), address);\r\n};\r\n","import { Link, useParams } from \"react-router-dom\";\r\nimport \"./ViewDetails.css\";\r\nimport Campaign from \"../../campaign.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport web3 from \"../../web3\";\r\n\r\nconst ViewDetails = () => {\r\n  const { address } = useParams();\r\n  const [campaignSummary, setcampaignSummary] = useState({\r\n    balance: \"\",\r\n    minimumContribution: \"\",\r\n    totalRequests: \"\",\r\n    contributersCount: \"\",\r\n    manager: \"\",\r\n  });\r\n  const [value, setvalue] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [isContributor, setIsContributor] = useState(false);\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  // Current Account and is it contributor\r\n  useEffect(() => {\r\n    const accounts = async () => await web3.eth.getAccounts();\r\n    accounts()\r\n      .then((currAccount) => {\r\n        setAccount(currAccount[0]);\r\n        const campaign = Campaign(address);\r\n        const contributorOrNot = async () =>\r\n          await campaign.methods.isContributor(currAccount[0]).call();\r\n\r\n        contributorOrNot()\r\n          .then((data) => setIsContributor(data))\r\n          .catch((err) => console.log(err));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, [isContributor, account]);\r\n\r\n  // Current campaign info\r\n  useEffect(() => {\r\n    const campaign = Campaign(address);\r\n    const t = async () => await campaign.methods.getSummary().call();\r\n    t()\r\n      .then((data) =>\r\n        setcampaignSummary({\r\n          balance: data[0],\r\n          minimumContribution: parseInt(data[1]) + 1 + \"\",\r\n          totalRequests: data[2],\r\n          contributersCount: data[3],\r\n          manager: data[4],\r\n        })\r\n      )\r\n      .catch((err) => console.log(err));\r\n  }, [campaignSummary]);\r\n\r\n  const contribute = async (e) => {\r\n    e.preventDefault();\r\n    const campaign = Campaign(address);\r\n    const accounts = await web3.eth.getAccounts();\r\n    try {\r\n      setLoading(true);\r\n      await campaign.methods.contribute().send({\r\n        from: accounts[0],\r\n        value: value,\r\n      });\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"viewDetails\">\r\n      <div className=\"left\">\r\n        <h2>Campaigns information</h2>\r\n        <div>\r\n          <div className=\"card first\">\r\n            <p>Manager</p>\r\n            <p>{campaignSummary.manager}</p>\r\n            <p>This is address of manager of this startup campaign</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"left__bottom\">\r\n          <div className=\"card\">\r\n            <p>Total Balance</p>\r\n            <p>{parseInt(campaignSummary.balance) + 1} wei</p>\r\n          </div>\r\n          <div className=\"card\">\r\n            <p>Minimum Contribution</p>\r\n            <p>{campaignSummary.minimumContribution} wei</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"left__bottom\">\r\n          <div className=\"card\">\r\n            <p>Total requests</p>\r\n            <p>{campaignSummary.totalRequests}</p>\r\n          </div>\r\n          <div className=\"card\">\r\n            <p>Contributers</p>\r\n            <p>{campaignSummary.contributersCount}</p>\r\n          </div>\r\n        </div>\r\n        {isContributor || campaignSummary.manager === account ? (\r\n          <Link\r\n            className=\"link\"\r\n            to={{\r\n              pathname: `/campaign/${address}/requests`,\r\n              state: {\r\n                totalRequests: parseInt(campaignSummary.totalRequests),\r\n                manager: campaignSummary.manager,\r\n                isContributor: isContributor,\r\n              },\r\n            }}\r\n          >\r\n            <button>View Requests</button>\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"right\">\r\n        <h2>Contribute To Campaign</h2>\r\n        <label>* in wei</label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder={`Minimum ${campaignSummary.minimumContribution} wei`}\r\n          value={value}\r\n          onChange={(e) => setvalue(e.target.value)}\r\n        />\r\n        {loading && <p className=\"loading\"></p>}\r\n        <button onClick={contribute}>Contribute</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewDetails;\r\n","import \"./ViewRequests.css\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Campaign from \"../../campaign\";\r\nimport { useState, useEffect } from \"react\";\r\nimport web3 from \"../../web3\";\r\n\r\nconst ViewRequests = (props) => {\r\n  const { address } = useParams();\r\n  const [data, setData] = useState([]);\r\n  const [totalApprovers, settotalApprovers] = useState(0);\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n\r\n  // Request's data\r\n  useEffect(() => {\r\n    const getRequests = async () => {\r\n      const campaign = Campaign(address);\r\n      try {\r\n        let newData = [];\r\n        for (let i = 0; i < props.location.state.totalRequests; i++) {\r\n          const request = await campaign.methods.requests(i).call();\r\n          newData.push(request);\r\n        }\r\n        setData(newData);\r\n      } catch (error) {\r\n        alert(error);\r\n      }\r\n    };\r\n    getRequests();\r\n  }, []);\r\n\r\n  // Contributors count\r\n  useEffect(() => {\r\n    const total = async () => {\r\n      const campaign = Campaign(address);\r\n      try {\r\n        const count = await campaign.methods.contributorsCount().call();\r\n        settotalApprovers(count);\r\n      } catch (error) {\r\n        alert(error);\r\n      }\r\n    };\r\n    total();\r\n  }, [totalApprovers]);\r\n\r\n  useEffect(() => {\r\n    const getAccounts = async () => await web3.eth.getAccounts();\r\n    getAccounts().then((accounts) => setCurrentUser(accounts[0]));\r\n  }, [currentUser]);\r\n\r\n  const approve = async (index) => {\r\n    const campaign = Campaign(address);\r\n    try {\r\n      const accounts = await web3.eth.getAccounts();\r\n      await campaign.methods.approveRequest(index).send({\r\n        from: accounts[0],\r\n      });\r\n    } catch (error) {\r\n      alert(error.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const finalize = async (index) => {\r\n    const campaign = Campaign(address);\r\n    try {\r\n      const accounts = await web3.eth.getAccounts();\r\n      await campaign.methods.finalizeRequest(index).send({\r\n        from: accounts[0],\r\n      });\r\n    } catch (error) {\r\n      alert(error.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"viewRequests\">\r\n      <h2>Requests</h2>\r\n      {props.location.state.manager === currentUser ? (\r\n        <Link className=\"link\" to={`/campaign/${address}/requests/addrequest`}>\r\n          <button>Add request</button>\r\n        </Link>\r\n      ) : null}\r\n      <div className=\"viewRequests__inner\">\r\n        <table className=\"table table-borderless container\">\r\n          <thead className=\"table-active\">\r\n            <tr>\r\n              <th scope=\"col\">Id</th>\r\n              <th scope=\"col\">Description</th>\r\n              <th scope=\"col\">Amount</th>\r\n              <th scope=\"col\">Recipient</th>\r\n              <th scope=\"col\">Approval Count</th>\r\n              {props.location.state.isContributor ? (\r\n                <th scope=\"col\">Approve</th>\r\n              ) : null}\r\n              {props.location.state.manager === currentUser ? (\r\n                <th scope=\"col\">Finalize</th>\r\n              ) : null}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data &&\r\n              data.map((value, index) => (\r\n                <tr\r\n                  key={index}\r\n                  className={`${value.compleate ? \"dim\" : \"\"} ${\r\n                    value.approvalsCount + 1 > totalApprovers / 2 &&\r\n                    !value.compleate\r\n                      ? \"readyToFinalize\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  <td>{index}</td>\r\n                  <td>{value[0]}</td>\r\n                  <td>{value[2]}</td>\r\n                  <td>{value[1]}</td>\r\n                  <td>\r\n                    {value[4]}/{totalApprovers}\r\n                  </td>\r\n                  <td>\r\n                    {!value.compleate && props.location.state.isContributor ? (\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          approve(index);\r\n                        }}\r\n                      >\r\n                        Approve\r\n                      </button>\r\n                    ) : null}\r\n                  </td>\r\n                  <td>\r\n                    {!value.compleate &&\r\n                    props.location.state.manager === currentUser ? (\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          finalize(index);\r\n                        }}\r\n                      >\r\n                        Finalize\r\n                      </button>\r\n                    ) : null}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewRequests;\r\n","import { useState } from \"react\";\r\nimport web3 from \"../../web3.js\";\r\nimport Campaign from \"../../campaign\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport \"./Addrequest.css\";\r\nconst Addrequest = () => {\r\n  const history = useHistory();\r\n  const [formInfo, setFormInfo] = useState({\r\n    description: \"\",\r\n    value: \"\",\r\n    recepient: \"\",\r\n  });\r\n  const { address } = useParams();\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      formInfo.description === \"\" ||\r\n      formInfo.value === \"\" ||\r\n      formInfo.recepient === \"\"\r\n    )\r\n      return alert(\"Empty inputs\");\r\n\r\n    const accounts = await web3.eth.getAccounts();\r\n    const campaign = Campaign(address);\r\n    try {\r\n      await campaign.methods\r\n        .createRequest(formInfo.description, formInfo.value, formInfo.recepient)\r\n        .send({\r\n          from: accounts[0],\r\n          gas: \"1000000\",\r\n        });\r\n      history.push(`/campaign/${address}/requests`);\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"addRequest\">\r\n      <h2>Add Request</h2>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Description\"\r\n          value={formInfo.description}\r\n          onChange={(e) =>\r\n            setFormInfo({ ...formInfo, description: e.target.value })\r\n          }\r\n        />\r\n        <input\r\n          type=\"\"\r\n          placeholder=\"Amount required\"\r\n          value={formInfo.value}\r\n          onChange={(e) => setFormInfo({ ...formInfo, value: e.target.value })}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Receipient\"\r\n          value={formInfo.recepient}\r\n          onChange={(e) =>\r\n            setFormInfo({ ...formInfo, recepient: e.target.value })\r\n          }\r\n        />\r\n        <button type=\"submit\">Add Request</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Addrequest;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Home,\r\n  NewCampaign,\r\n  ViewDetails,\r\n  ViewRequests,\r\n  Addrequest,\r\n} from \"./components\";\r\nimport web3 from \"./web3\";\r\n\r\nconst getAccounts = async () => {\r\n  if (window && window.web3) {\r\n    let accounts = await web3.eth.getAccounts();\r\n    return accounts[0];\r\n  }\r\n};\r\n\r\nconst Routing = () => {\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getAccounts()\r\n      .then((userAddress) => setAccount(userAddress))\r\n      .catch((err) => console.log(err));\r\n    if (\r\n      !account &&\r\n      (!history.location.pathname.localeCompare(\"/campaigns/:address\") ||\r\n        !history.location.pathname.startsWith(\"/campaign\"))\r\n    ) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [history, account]);\r\n\r\n  return (\r\n    <>\r\n      {account ? (\r\n        <>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/campaigns/new\" exact component={NewCampaign} />\r\n          <Route path=\"/campaign/:address\" exact component={ViewDetails} />\r\n          <Route\r\n            path=\"/campaign/:address/requests\"\r\n            exact\r\n            component={ViewRequests}\r\n          />\r\n          <Route\r\n            path=\"/campaign/:address/requests/addrequest\"\r\n            component={Addrequest}\r\n          />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Route path=\"/\" exact component={Home} />\r\n          <Route path=\"/campaigns/new\" exact component={NewCampaign} />\r\n          <Route path=\"/campaign/:address\" exact component={ViewDetails} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Routing;\r\n","import { HashRouter as Router } from \"react-router-dom\";\r\nimport { Navbar } from \"./components\";\r\nimport Routing from \"./Routing\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        <Navbar />\r\n        <Routing />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}